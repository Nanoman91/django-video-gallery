<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1404.47">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 39.0px; font: 32.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 29.0px; font: 24.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #4078c0; background-color: #ffffff}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 29.0px; font: 24.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 16.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 24.0px; font: 20.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #4078c0; background-color: #ffffff}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 25.0px; font: 20.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 16.0px; font: 14.0px Menlo; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 14.0px Menlo; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 16.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #4078c0; background-color: #ffffff}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 19.0px; font: 16.0px Menlo; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    li.li4 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 16.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    li.li7 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 16.0px; font: 14.0px Menlo; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    li.li8 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 16.0px; font: 14.0px Menlo; color: #000000; background-color: #ffffff}
    li.li9 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 16.0px 'Helvetica Neue'; color: #000000; background-color: #ffffff}
    li.li10 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 14.0px Menlo; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    li.li13 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 16.0px; font: 16.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #323333; background-color: #ffffff}
    span.s1 {font-kerning: none}
    span.s2 {text-decoration: underline ; font-kerning: none; -webkit-text-stroke: 0px #4078c0}
    span.s3 {font: 16.0px 'Helvetica Neue'; text-decoration: underline ; font-kerning: none; -webkit-text-stroke: 0px #4078c0}
    span.s4 {-webkit-text-stroke: 0px #000000}
    span.s5 {font: 14.0px Menlo; font-kerning: none}
    span.s6 {font-kerning: none; -webkit-text-stroke: 0px #323333}
    span.s7 {font: 16.0px 'Helvetica Neue'; -webkit-text-stroke: 0px #000000}
    span.s8 {font: 16.0px 'Helvetica Neue'; font-kerning: none}
    span.s9 {font: 14.0px Menlo; -webkit-text-stroke: 0px #000000}
    ol.ol1 {list-style-type: decimal}
    ul.ul1 {list-style-type: disc}
    ul.ul2 {list-style-type: circle}
  </style>
</head>
<body>
<p class="p1"><span class="s1"><b>Django Gallery - A simple gallery, extended. Based on myks gallery</b></span></p>
<p class="p2"><span class="s1"><br>
<img src="screenshot-web.jpeg">
</span></p>
<p class="p3"><span class="s1"><b>Introduction</b></span></p>
<p class="p4"><span class="s2"><a href="https://github.com/jeremygaul/django-gallery">Django-gallery</a></span><span class="s1"> is a simple photo gallery with granular access control.</span></p>
<p class="p4"><span class="s1">It powers myks's <a href="http://myks.org/photos/"><span class="s3">humble photo gallery</span></a>, allowing me to:</span></p>
<ul class="ul1">
  <li class="li4"><span class="s4"></span><span class="s1">access my entire photo collection privately,</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">share some albums with family or friends,</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">make some albums public.</span></li>
</ul>
<p class="p2"><span class="s1"><br>
</span></p>
<p class="p3"><span class="s1"><b>Use case</b></span></p>
<p class="p4"><span class="s1">Rather than use a photo manager, I just create a new directory for each event and put my photos inside. I include the date of the event in the name of the directory and I rename photos based on their date and time. Then I regularly synchronize my collection to a remote storage. I serve my gallery from there.</span></p>
<p class="p4"><span class="s1">If you have a similar workflow, you may find django-gallery useful.</span></p>
<p class="p4"><span class="s1">Whenever I upload new photos, I re-scan the collection with </span><span class="s5">./manage.py scanphotos</span><span class="s1"> or with the button in the admin. django-gallery detects new albums and photos. Then I define users, groups and access policies in the admin.</span></p>
<p class="p4"><span class="s1">Album access policies control the visibility of albums. Most often, you'll enable the "photos inherit album access policy" option. If you need more control, for instance to share only a subset of an album, you can disable this option and use photo access policies. You still need to define an album access policy and it should be a superset of the photo access policies.</span></p>
<p class="p4"><span class="s1">Obviously, requiring usernames and passwords doesn't work well for sharing photos with relatives. You might want to use <a href="https://github.com/aaugustin/django-sesame"><span class="s3">django-sesame</span></a>.</span></p>
<p class="p2"><span class="s1"><br>
</span></p>
<p class="p3"><span class="s1"><b>Setup</b></span></p>
<p class="p4"><span class="s1">django-gallery is a pluggable Django application. It requires Django ≥ 1.8 and Pillow and pytz. It works with any version of Python supported by Django.</span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>Architecture</b></span></p>
<p class="p4"><span class="s1">django-gallery requires two storage areas:</span></p>
<ul class="ul1">
  <li class="li4"><span class="s4"></span><span class="s1">The first one contains the original photos. It's a read-only reference. You can upload photos there with <a href="http://docs.aws.amazon.com/cli/latest/reference/s3/sync.html"><span class="s3">aws s3 sync</span></a>, <a href="https://cloud.google.com/storage/docs/gsutil/commands/rsync"><span class="s3">gsutil rsync</span></a>, <a href="http://rsync.samba.org/"><span class="s3">rsync</span></a>, etc. depending on the platform. (I don't know any such tool for Azure storage.)</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">The second one contains downscaled photos and ZIP archives of album exports. It's a read-write cache. You can set up expiry policies and clear it without affecting the gallery, aside from the cost of rescaling images again.</span></li>
</ul>
<p class="p4"><span class="s1">django-gallery accesses them through Django's <a href="https://docs.djangoproject.com/en/stable/ref/files/storage/"><span class="s3">file storage API</span></a>, meaning that you can use any storage for which a Django storage backend exists. You should use a third-party storage backend if you're storing files in a cloud service and Djang's built-in </span><span class="s5">FileSystemStorage</span><span class="s1"> if you're storing them locally on the filesystem, typically for local development.</span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>Installation guide</b></span></p>
<p class="p4"><span class="s1">Here's the general process for integrating django-gallery into an existing website:</span></p>
<ol class="ol1">
  <li class="li4"><span class="s4"></span><span class="s1">Download and install the package from PyPI:<br>
</span><span class="s5">$ pip install pytz</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ pip install pillow</span></li>
  <li class="li8"></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ pip install django-gallery</span></li>
  <li class="li8"></li>
  <li class="li8"><span class="s6">OR</span></li>
  <li class="li8"></li>
  <li class="li7"><span class="s4"></span><span class="s1">pip install https://github.com/jeremygaul/django-gallery/zipball/master</span></li>
  <li class="li9"></li>
  <li class="li10"><span class="s7"></span><span class="s8">Add </span><span class="s1">gallery.apps.GalleryConfig</span><span class="s8"> to </span><span class="s1">INSTALLED_APPS</span><span class="s8">:<br>
</span><span class="s1">INSTALLED_APPS += 'gallery.apps.GalleryConfig',</span></li>
  <li class="li9"></li>
  <li class="li4"><span class="s4"></span><span class="s1">Configure the settings — see below for the list.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Add the application to your URLconf with the </span><span class="s5">gallery</span><span class="s1"> application namespace:<br>
</span><span class="s5">urlpatterns += [</span></li>
  <li class="li7"><span class="s4"></span><span class="s1"><span class="Apple-converted-space">    </span>url(r'^gallery/', include('gallery.urls', namespace='gallery', app_name='gallery')),</span></li>
  <li class="li8"><span class="s6">]</span></li>
  <li class="li9"></li>
  <li class="li4"><span class="s4"></span><span class="s1">Create a suitable </span><span class="s5">base.html</span><span class="s1"> template. It must provide three blocks: </span><span class="s5">title</span><span class="s1">, </span><span class="s5">extrahead</span><span class="s1">, </span><span class="s5">content</span><span class="s1">, as shown in this <a href="https://github.com/jeremygaul/django-gallery/blob/master/example/example/templates/base.html"><span class="s3">example</span></a>.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Optionally, if you're serving files from the local filesystem, enable <a href="http://wiki.nginx.org/X-accel"><span class="s3">X-accel</span></a> (nginx) or <a href="https://tn123.org/mod_xsendfile/"><span class="s3">mod_xsendfile</span></a> (Apache) for your photo and cache directories.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Scan your photos with the "Scan photos" button in the admin or the </span><span class="s5">scanphotos</span><span class="s1"> management command and define access policies.</span></li>
</ol>
<p class="p4"><span class="s1">The <a href="https://github.com/aaugustin/django-gallery"><span class="s3">source</span></a> contains a sample application in the </span><span class="s5">example</span><span class="s1"> directory. It can help you see how everything fits together. See below for how to run it.</span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>Permissions</b></span></p>
<p class="p4"><span class="s1">django-gallery defines two permissions:</span></p>
<ul class="ul1">
  <li class="li4"><span class="s4"></span><span class="s1">"Can scan the photos directory" allows using the "Scan photos" button in the admin.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">"Can see all photos" allows seeing all albums and all photos regardless of access policies.</span></li>
</ul>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>Settings</b></span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_DEFAULT_PUBLIC</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">True</span></p>
<p class="p4"><span class="s1">Permissions for the gallery's visibility to anonymous users. If set to false will need to be manually changed to be visible without logging in. This affects when a new gallery is created via upload or new creation.</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_PHOTO_STORAGE</b></span></p>
<p class="p4"><span class="s1">Default: <i>not defined</i></span></p>
<p class="p4"><span class="s1">Dotted Python path to the Django storage class for the original photos. It must be readable by the application server but should not be writable.</span></p>
<p class="p4"><span class="s1">While </span><span class="s5">GALLERY_PHOTO_STORAGE</span><span class="s1"> behaves like Django's </span><span class="s5">DEFAULT_FILE_STORAGE</span><span class="s1"> setting, you'll usullay point it to a factory function that initializes and returns a Django storage instance because you won't want to use globally configured values for settings such as the S3 bucket name.</span></p>
<p class="p4"><span class="s1">For compatibility for versions prior to 0.5, if </span><span class="s5">GALLERY_PHOTO_STORAGE</span><span class="s1"> isn't defined but </span><span class="s5">GALLERY_PHOTO_DIR</span><span class="s1"> is, the photo storage will be set to </span><span class="s5">FileSystemStorage(location=GALLERY_PHOTO_DIR)</span><span class="s1">.</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_CACHE_STORAGE</b></span></p>
<p class="p4"><span class="s1">Default: <i>not defined</i></span></p>
<p class="p4"><span class="s1">Dotted Python path to the Django storage class for the thumbnails and album archives. It must be readable and writable by the application server.</span></p>
<p class="p10"><span class="s8">It behaves like </span><span class="s1">GALLERY_PHOTO_STORAGE</span><span class="s8">.</span></p>
<p class="p4"><span class="s1">For compatibility for versions prior to 0.5, if </span><span class="s5">GALLERY_CACHE_STORAGE</span><span class="s1"> isn't defined but </span><span class="s5">GALLERY_CACHE_DIR</span><span class="s1"> is, the photo storage will be set to </span><span class="s5">FileSystemStorage(location=GALLERY_CACHE_DIR)</span><span class="s1">.</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_PATTERNS</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">()</span></p>
<p class="p4"><span class="s1">Tuple of (category name, regular expression) defining how to extract album information — category, date, name — from the paths of photo files.</span></p>
<p class="p4"><span class="s1">The regular expressions match paths relative to the root of the photo storage. They contain the following captures:</span></p>
<ul class="ul1">
  <li class="li13"><span class="s9"></span><span class="s5">a_name</span><span class="s1">: album name (mandatory) — to capture several bits, use </span><span class="s5">a_name1</span><span class="s1">, </span><span class="s5">a_name2</span><span class="s1">, etc.</span></li>
  <li class="li13"><span class="s9"></span><span class="s5">a_year</span><span class="s1">, </span><span class="s5">a_month</span><span class="s1">, </span><span class="s5">a_day</span><span class="s1">: album date (mandatory)</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">p_year</span><span class="s8">, </span><span class="s1">p_month</span><span class="s8">, </span><span class="s1">p_day</span><span class="s8">, </span><span class="s1">p_hour</span><span class="s8">, </span><span class="s1">p_minute</span><span class="s8">, </span><span class="s1">p_second</span><span class="s8">: photo date and time (optional)</span></li>
</ul>
<p class="p4"><span class="s1">Here's an example, for photos stored with names such as </span><span class="s5">2013/01_19_Snow in Paris/2013-01-19_19-12-43.jpg</span><span class="s1">:</span></p>
<p class="p7"><span class="s1">GALLERY_PATTERNS = (</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">    </span>('Photos',</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span>r'(?P&lt;a_year&gt;\d{4})/(?P&lt;a_month&gt;\d{2})_(?P&lt;a_day&gt;\d{2})_'</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span>r'(?P&lt;a_name&gt;[^_/]+)/'</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span>r'(?P&lt;p_year&gt;\d{4})-(?P&lt;p_month&gt;\d{2})-(?P&lt;p_day&gt;\d{2})_'</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span>r'(?P&lt;p_hour&gt;\d{2})-(?P&lt;p_minute&gt;\d{2})-(?P&lt;p_second&gt;\d{2})\.jpg'),</span></p>
<p class="p7"><span class="s1">)</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_IGNORES</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">()</span></p>
<p class="p4"><span class="s1">Tuple of regular expressions matching paths within </span><span class="s5">GALLERY_PHOTO_STORAGE</span><span class="s1">. Files matching one of these expressions will be ignored when scanning photos.</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_RESIZE_PRESETS</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">{}</span></p>
<p class="p4"><span class="s1">Dictionary mapping thumbnail presets names to </span><span class="s5">(width, height, crop)</span><span class="s1">. If </span><span class="s5">crop</span><span class="s1"> is </span><span class="s5">True</span><span class="s1">, the photo will be cropped and the thumbnail will have exactly the requested size. If </span><span class="s5">crop</span><span class="s1"> is </span><span class="s5">False</span><span class="s1">, the thumbnaill will be smaller than the requested size in one dimension to preserve the photo's aspect ratio.</span></p>
<p class="p4"><span class="s1">The default templates assume the following values:</span></p>
<p class="p7"><span class="s1">GALLERY_RESIZE_PRESETS = {</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">    </span>'thumb': (128, 128, True),</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">    </span>'standard': (768, 768, False),</span></p>
<p class="p7"><span class="s1">}</span></p>
<p class="p4"><span class="s1">You may double these sizes for better results on high DPI displays.</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_RESIZE_OPTIONS</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">{}</span></p>
<p class="p4"><span class="s1">Dictionary mapping image formats names to to dictionaries of options for Pillow's </span><span class="s5">save</span><span class="s1"> method. Options are described for each file format in Pillow's documentation.</span></p>
<p class="p4"><span class="s1">The following a reasonable value for high-quality thumbnails and previews:</span></p>
<p class="p7"><span class="s1">GALLERY_RESIZE_OPTIONS = {</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">    </span>'JPEG': {'quality': 95, 'optimize': True},</span></p>
<p class="p7"><span class="s1">}</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_SENDFILE_HEADER</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">''</span></p>
<p class="p4"><span class="s1">Name of the HTTP header that triggers </span><span class="s5">sendfile</span><span class="s1"> on your web server. Use </span><span class="s5">'X-Accel-Redirect'</span><span class="s1"> for nginx and </span><span class="s5">'X-SendFile'</span><span class="s1"> for Apache.</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_SENDFILE_ROOT</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">''</span></p>
<p class="p4"><span class="s1">Part to strip at the beginning of the paths in the </span><span class="s5">sendfile</span><span class="s1"> header. The header will contain the absolute path to files, minus this prefix. This is generally useful for nginx and not necessary for Apache.</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_TITLE</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">"Gallery"</span></p>
<p class="p4"><span class="s1">Title of your photo gallery. This is only used by the default templates of the index and year views.</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_PREVIEW_COUNT</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">5</span></p>
<p class="p4"><span class="s1">Number of thumbnails shown in the preview of each album.</span></p>
<p class="p11"><span class="s1"><br>
</span></p>
<p class="p12"><span class="s1"><b>GALLERY_ARCHIVE_EXPIRY</b></span></p>
<p class="p4"><span class="s1">Default: </span><span class="s5">None</span><span class="s1"> or </span><span class="s5">60</span></p>
<p class="p4"><span class="s1">Duration in days during which album archives are kept in cache. </span><span class="s5">None</span><span class="s1"> disables expiration.</span></p>
<p class="p4"><span class="s1">When using a remote storage system such as S3, configuring an expiry policy for the </span><span class="s5">export</span><span class="s1"> folder directly on the storage system is more efficient.</span></p>
<p class="p4"><span class="s1">For compatibility with versions prior to 0.5, if </span><span class="s5">GALLERY_CACHE_DIR</span><span class="s1"> is defined, </span><span class="s5">GALLERY_ARCHIVE_EXPIRY</span><span class="s1"> defaults to </span><span class="s5">60</span><span class="s1">.</span></p>
<p class="p2"><span class="s1"><br>
</span></p>
<p class="p3"><span class="s1"><b>Running the sample application</b></span></p>
<ol class="ol1">
  <li class="li4"><span class="s4"></span><span class="s1">Make sure Django and Pillow are installed</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Download some pictures (warning: these files are large, total = 50MB; you can use photos of your own instead as long as you respect the format of the directory name: </span><span class="s5">YYYY_MM_DD_album name</span><span class="s1">):<br>
</span><span class="s5">$ cd example</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ mkdir cache</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ mkdir photos</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ mkdir "photos/2013_01_01_Featured Pictures"</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ cd "photos/2013_01_01_Featured Pictures"</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/5/51/2012-11-23_16-05-52-grande-cascade-tendon.jpg</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/5/56/Crooked_Beak_of_Heaven_Mask.jpg</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/a/a4/Iglesia_de_Nuestra_Se%C3%B1ora_de_La_Blanca%2C_Cardej%C3%B3n%2C_Espa%C3%B1a%2C_2012-09-01%2C_DD_02. <span class="Apple-converted-space">  </span>JPG</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/1/17/Iglesia_del_Esp%C3%ADritu_Santo%2C_Landshut%2C_Alemania%2C_2012-05-27%2C_DD_02.JPG</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/3/33/Viru_Bog%2C_Parque_Nacional_Lahemaa%2C_Estonia%2C_2012-08-12%2C_DD_60.JPG</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/d/d7/Castillo_Trausnitz%2C_Landshut%2C_Alemania%2C_2012-05-27%2C_DD_18.JPG</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/b/b7/Catedral_de_Alejandro_Nevsky%2C_Tallin%2C_Estonia%2C_2012-08-11%2C_DD_46.JPG</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/3/3f/Crassula_arborescens%2C_Jard%C3%ADn_Bot%C3%A1nico%2C_M%C3%BAnich%2C_Alemania_2012-04-21%2C_DD_01.JPG</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/8/86/Plaza_del_ayuntamiento%2C_Set%C3%BAbal%2C_Portugal%2C_2012-08-17%2C_DD_01.JPG</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ wget http://upload.wikimedia.org/wikipedia/commons/7/71/4_cilindros_y_museo_BMW%2C_M%C3%BAnich%2C_Alemania_2012-04-28%2C_DD_02.JPG</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ cd ../..</span></li>
  <li class="li9"></li>
  <li class="li4"><span class="s4"></span><span class="s1">Run the development server:<br>
</span><span class="s5">$ ./manage.py migrate</span></li>
  <li class="li7"><span class="s4"></span><span class="s1">$ ./manage.py runserver</span></li>
  <li class="li9"></li>
  <li class="li4"><span class="s4"></span><span class="s1">Go to <a href="http://localhost:8000/admin/gallery/album/"><span class="s3">http://localhost:8000/admin/gallery/album/</span></a> and log in. Click the "Scan photos" link at the top right, and the "Scan photos" button on the next page. You should see the following messages:</span></li>
  <ul class="ul2">
    <li class="li4"><span class="s4"></span><span class="s1">Scanning path/to/django-gallery/example/photos</span></li>
    <li class="li4"><span class="s4"></span><span class="s1">Adding album 2013_01_01_Featured Pictures (Photos) as Featured Pictures</span></li>
    <li class="li4"><span class="s4"></span><span class="s1">Done (0.01s)</span></li>
  </ul>
  <li class="li4"><span class="s4"></span><span class="s1">Go to <a href="http://localhost:8000/"><span class="s3">http://localhost:8000/</span></a> and enjoy!<br>
Since you're logged in as an admin user, you can view albums and photos even though you haven't defined any access policies yet.</span></li>
</ol>
<p class="p2"><span class="s1"><br>
</span></p>
<p class="p3"><span class="s1"><b>Changelog</b></span></p>
<p class="p2"><span class="s1"><br>
</span></p>
<p class="p3"><span class="s1"><b>0.1</b></span></p>
<p class="p4"><span class="s1">Changed permissions and model to support custom user models.</span></p>
<p class="p4"><span class="s1">Changed albums to default to public = True</span></p>
<p class="p4"><span class="s1">Updated example to contain all options</span></p>
<p class="p2"><span class="s1"><br>
</span></p>
<p class="p3"><span class="s1"><b>FORK from myks</b></span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>0.6</b></span></p>
<p class="p4"><span class="s1"><i>Under development</i></span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>0.5</b></span></p>
<p class="p4"><span class="s1">This version uses the Django file storage API for all operations on files, making it possible to use services such as Amazon S3 or Google Cloud Storage for storing photos and thumbnails. It introduces the </span><span class="s5">GALLERY_PHOTO_STORAGE</span><span class="s1"> and </span><span class="s5">GALLERY_CACHE_STORAGE</span><span class="s1"> settings. They supersede </span><span class="s5">GALLERY_PHOTO_DIR</span><span class="s1"> and </span><span class="s5">GALLERY_CACHE_DIR</span><span class="s1">.</span></p>
<p class="p4"><span class="s1">When upgrading to 0.5 or later, you should clear the cache directory. Previously cached thumbnails and exports won't be used by this version.</span></p>
<p class="p4"><span class="s1">It also include some smaller changes.</span></p>
<ul class="ul1">
  <li class="li4"><span class="s4"></span><span class="s1">Switched ordering of albums to always show the most recent albums first.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Allowed customizing the number of photos in album previews.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Preserved original order of photos in album previews.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Added pagination on album preview pages.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Changed the hashing schema. This invalides the cache. You should clear it.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Fixed collision between zip archives containing photos with the same name.</span></li>
</ul>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>0.4</b></span></p>
<ul class="ul1">
  <li class="li4"><span class="s4"></span><span class="s1">Provided exports of albums as zip archives.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Fixed preview of photos affected by batch access policy changes.</span></li>
</ul>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>0.3</b></span></p>
<ul class="ul1">
  <li class="li4"><span class="s4"></span><span class="s1">Support for Python 3 and Django 1.6.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Hid public albums by default for logged-in users.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Switched the default styles to a responsive design.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Added an option to scanphotos to precompute thumbnails.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Added an option to scanphotos to resynchronize photo dates.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Fixed bugs in photo dates.</span></li>
</ul>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>0.2</b></span></p>
<ul class="ul1">
  <li class="li4"><span class="s4"></span><span class="s1">Made most settings optional for easier deployment.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Made "sendfile" optional and used streaming responses as a fallback.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Worked around a crash in libjpeg when creating large JPEG previews.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Added many tests.</span></li>
</ul>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p6"><span class="s1"><b>0.1</b></span></p>
<ul class="ul1">
  <li class="li4"><span class="s4"></span><span class="s1">Initial public release, with the history from my private repository.</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Added documentation (README file).</span></li>
  <li class="li4"><span class="s4"></span><span class="s1">Added a sample application.</span></li>
</ul>
</body>
</html>
